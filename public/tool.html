<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pestimator ‚Äî Quoting Studio</title>
    <meta name="description" content="Secure Pestimator workspace for creating and exporting polished pest control proposals." />
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="./config.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/aws-amplify@5.3.6/dist/aws-amplify.min.js"></script>
    <script defer src="./auth.js"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              display: ['"SF Pro Display"', 'Inter', 'system-ui', 'sans-serif'],
              sans: ['Inter', 'system-ui', 'sans-serif']
            },
            colors: {
              night: '#0b1220',
              midnight: '#111827',
              abyss: '#020617',
              mint: '#2dd4bf',
              lagoon: '#0ea5e9',
              ink: '#020617',
              shell: '#0b1120',
              canvas: '#f1f5f9',
              'border-subtle': '#e5e7eb',
              'border-strong': '#cbd5f5'
            },
            boxShadow: {
              glass: '0 25px 65px rgba(15, 23, 42, 0.35)',
              elevated: '0 18px 40px -24px rgba(15,23,42,0.3)',
              glow: '0 0 0 1px rgba(45,212,191,0.2), 0 18px 40px -20px rgba(14,165,233,0.45)'
            },
            borderRadius: {
              pill: '9999px',
              xl: '1rem'
            }
          }
        }
      };
    </script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2232%22 height=%2232%22><text y=%2224%22 font-size=%2224%22>üêú</text></svg>" />
    <style>
      *, *::before, *::after {
        box-sizing: border-box;
      }
      html, body {
        width: 100%;
        overflow-x: hidden;
      }
      body {
        min-height: 100vh;
        font-family: 'Inter', system-ui, sans-serif;
      }
      .saas-card {
        background: #ffffff;
        border-radius: 1rem;
        border: 1px solid rgba(148, 163, 184, 0.25);
        box-shadow: 0 18px 40px -24px rgba(15, 23, 42, 0.3);
      }
      .saas-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        border-radius: 9999px;
        padding: 0.25rem 0.65rem;
        font-size: 11px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.08em;
      }
      .avoid-break { break-inside: avoid; page-break-inside: avoid; }
      .print-only { display: none; }
      @media print {
        :root { color-scheme: light; }
        .no-print { display: none !important; }
        .print-only { display: block !important; }
        body { background: #fff; color: #0f172a; }
        .card-printable {
          box-shadow: none !important;
          border: 1px solid #e5e7eb !important;
          background: #fff !important;
          color: #0f172a !important;
        }
        main { max-width: 100% !important; }
      }
    </style>
  </head>
  <body class="min-h-screen bg-canvas text-slate-900">
    <div class="flex min-h-screen">
      <aside
        id="appSidebar"
        class="fixed inset-y-0 left-0 z-30 w-64 transform bg-night text-slate-100 transition-transform duration-200 -translate-x-full md:static md:translate-x-0 md:flex md:flex-col border-r border-slate-800/70"
      >
        <div class="flex h-16 items-center gap-3 px-4 border-b border-slate-800/70">
          <div class="flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-mint to-lagoon text-night text-lg">üêú</div>
          <div class="flex flex-col">
            <span class="text-sm font-semibold font-display tracking-tight">Pestimator</span>
            <span class="text-[11px] text-slate-400">Quoting Studio</span>
          </div>
        </div>
        <nav class="flex-1 py-4 text-sm space-y-1">
          <button data-nav="dashboard" type="button" class="nav-link flex w-full items-center gap-2 px-4 py-2 text-left text-slate-200/80 rounded-lg hover:bg-slate-800/80 hover:text-white transition">
            <svg class="h-4 w-4 text-slate-400" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24" aria-hidden="true"><path d="M4 13h6V4H4v9zm0 7h6v-5H4v5zm10 0h6V11h-6v9zm0-15v3h6V5h-6z"/></svg>
            <span>Dashboard</span>
          </button>
          <button data-nav="clients" type="button" class="nav-link flex w-full items-center gap-2 px-4 py-2 text-left text-slate-200/80 rounded-lg hover:bg-slate-800/80 hover:text-white transition">
            <svg class="h-4 w-4 text-slate-400" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm8 0a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/><path d="M3 20a5 5 0 0 1 10 0m4-5a5 5 0 0 1 5 5" stroke-linecap="round"/></svg>
            <span>Clients</span>
          </button>
          <button data-nav="quotes" type="button" class="nav-link flex w-full items-center gap-2 px-4 py-2 text-left text-slate-200/80 rounded-lg hover:bg-slate-800/80 hover:text-white transition">
            <svg class="h-4 w-4 text-slate-400" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 4h9l3 3v13a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1z"/><path d="M9 9h6m-6 4h4" stroke-linecap="round"/></svg>
            <span>Quotes</span>
          </button>
          <button data-nav="invoices" type="button" class="nav-link flex w-full items-center gap-2 px-4 py-2 text-left text-slate-200/80 rounded-lg hover:bg-slate-800/80 hover:text-white transition">
            <svg class="h-4 w-4 text-slate-400" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 4h12a1 1 0 0 1 1 1v14l-3-2-3 2-3-2-3 2V5a1 1 0 0 1 1-1z"/><path d="M9 9h6m-6 4h4" stroke-linecap="round"/></svg>
            <span>Invoices</span>
          </button>
          <button data-nav="vendor-settings" type="button" class="nav-link flex w-full items-center gap-2 px-4 py-2 text-left text-slate-200/80 rounded-lg hover:bg-slate-800/80 hover:text-white transition">
            <svg class="h-4 w-4 text-slate-400" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/><path d="m19.4 15 .8 1.4-1.2 2.1-1.6-.2a7.3 7.3 0 0 1-1.2.7l-.4 1.6h-2.4l-.4-1.6a7.3 7.3 0 0 1-1.2-.7l-1.6.2-1.2-2.1.8-1.4a7.7 7.7 0 0 1 0-1.4l-.8-1.4 1.2-2.1 1.6.2a7.3 7.3 0 0 1 1.2-.7l.4-1.6h2.4l.4 1.6a7.3 7.3 0 0 1 1.2.7l1.6-.2 1.2 2.1-.8 1.4a7.7 7.7 0 0 1 0 1.4z"/></svg>
            <span>Vendors &amp; Settings</span>
          </button>
        </nav>
        <div class="border-t border-slate-800/70 px-4 py-4 text-[11px] text-slate-500">
          <div id="sidebarUserEmail" class="truncate font-medium text-slate-200"></div>
          <div class="text-slate-500">Signed in</div>
        </div>
      </aside>
      <div id="sidebarBackdrop" class="fixed inset-0 z-20 bg-slate-900/40 opacity-0 pointer-events-none transition-opacity duration-200 md:hidden"></div>

      <div class="flex flex-1 flex-col">
        <header class="flex items-center justify-between border-b border-slate-200 bg-white/90 backdrop-blur px-6 py-3 sticky top-0 z-20">
          <div class="flex items-center gap-2">
            <button
              id="btnSidebarToggle"
              class="inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 text-slate-500 hover:bg-slate-50 md:hidden"
              aria-label="Toggle navigation"
              type="button"
            >
              <svg class="h-4 w-4" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
              </svg>
            </button>
            <div>
              <h1 id="pageTitle" class="text-base md:text-lg font-semibold tracking-tight text-slate-900">Quote Builder</h1>
              <span id="pageSubtitle" class="text-xs text-slate-500">Create a new quote</span>
            </div>
          </div>
          <div class="flex items-center gap-3 text-xs text-slate-600">
            <span id="cloudStatus" class="inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-[11px] font-medium text-slate-600"></span>
            <span id="authUser" class="hidden"></span>
            <button
              id="btnSignOut"
              type="button"
              class="rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50 hover:text-slate-900 transition"
            >
              Sign out
            </button>
          </div>
        </header>

        <main id="appMain" class="mx-auto flex-1 w-full max-w-6xl px-4 md:px-6 py-6 space-y-6">
          <div id="remoteStatus" class="hidden rounded-full border border-slate-200 bg-white px-4 py-2 text-xs text-slate-700 shadow-sm"></div>

          <section data-view="dashboard" class="space-y-4 hidden">
            <div class="grid gap-4 md:grid-cols-3">
              <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-6 flex flex-col gap-2">
                <div class="text-xs font-semibold uppercase tracking-wide text-slate-500">Open Quotes</div>
                <div id="dashboardOpenQuotes" class="text-3xl font-semibold text-slate-900">0</div>
                <p class="text-xs text-slate-500">Quotes awaiting action.</p>
              </div>
              <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-6 flex flex-col gap-2">
                <div class="text-xs font-semibold uppercase tracking-wide text-slate-500">Open Invoices</div>
                <div id="dashboardOpenInvoices" class="text-3xl font-semibold text-slate-900">0</div>
                <p class="text-xs text-slate-500">Invoices awaiting payment.</p>
              </div>
              <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-6 flex flex-col gap-2">
                <div class="text-xs font-semibold uppercase tracking-wide text-slate-500">Quoted this month</div>
                <div id="dashboardMonthlyValue" class="text-3xl font-semibold text-slate-900">$0</div>
                <p class="text-xs text-slate-500">Total quoted value in the current month.</p>
              </div>
            </div>
            <div class="grid gap-4 md:grid-cols-3">
              <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-6 flex flex-col gap-2">
                <div class="text-xs font-semibold uppercase tracking-wide text-slate-500">Invoiced this month</div>
                <div id="dashboardInvoicedMonth" class="text-3xl font-semibold text-slate-900">$0</div>
                <p class="text-xs text-slate-500">Total invoiced value this month.</p>
              </div>
              <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-6 flex flex-col gap-2">
                <div class="text-xs font-semibold uppercase tracking-wide text-slate-500">Paid this month</div>
                <div id="dashboardPaidMonth" class="text-3xl font-semibold text-slate-900">$0</div>
                <p class="text-xs text-slate-500">Payments recorded this month.</p>
              </div>
            </div>
            <div class="grid gap-4 lg:grid-cols-2">
              <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-6">
                <h2 class="text-lg font-semibold tracking-tight text-slate-900">Recent activity</h2>
                <ul id="dashboardRecentActivity" class="mt-4 space-y-3 text-sm text-slate-700"></ul>
              </div>
              <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-6">
                <h2 class="text-lg font-semibold tracking-tight text-slate-900">Saved vendors</h2>
                <div id="dashboardVendorsEmpty" class="mt-4 text-xs text-slate-400 italic">Connect Amplify to sync vendor profiles.</div>
                <ul id="dashboardVendors" class="mt-4 space-y-2 text-sm text-slate-700"></ul>
              </div>
            </div>
          </section>

          <section data-view="clients" class="space-y-4 hidden">
            <div class="flex items-center justify-between gap-3 flex-wrap">
              <div>
                <h2 class="text-xl font-semibold tracking-tight text-slate-900">Clients</h2>
                <p class="text-xs text-slate-500">Search, review history, and create new clients.</p>
              </div>
              <button
                id="btnNewClient"
                type="button"
                class="rounded-full bg-mint px-4 py-2 text-sm font-semibold text-night shadow-sm hover:bg-emerald-400 hover:shadow-md transition"
              >
                New client
              </button>
            </div>
            <div class="mt-4 grid gap-4 lg:grid-cols-[2.2fr,3fr]">
              <section class="bg-white rounded-2xl border border-slate-200 shadow-sm p-4 space-y-3">
                <div class="flex items-center gap-2">
                  <input
                    id="clientSearch"
                    placeholder="Search clients‚Ä¶"
                    class="w-full rounded-full border border-slate-200 bg-slate-50 px-3 py-2 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint"
                  />
                </div>
                <div class="flex items-center justify-between text-xs text-slate-500">
                  <span>Client list</span>
                  <button id="btnRefreshClients" type="button" class="rounded-full border border-slate-200 bg-white px-3 py-1 text-[11px] font-semibold hover:bg-slate-50">Refresh</button>
                </div>
                <ul id="clientsList" class="max-h-[480px] overflow-y-auto divide-y divide-slate-100 text-sm"></ul>
              </section>
              <section class="bg-white rounded-2xl border border-slate-200 shadow-sm p-4">
                <div id="clientDetailEmpty" class="text-xs text-slate-400 flex items-center justify-center h-full text-center">
                  Select a client to view details.
                </div>
                <div id="clientDetail" class="hidden space-y-4 text-sm text-slate-700"></div>
              </section>
            </div>
          </section>

          <section data-view="quotes" class="space-y-4 hidden">
            <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
              <div>
                <h2 class="text-xl font-semibold tracking-tight text-slate-900">Quotes</h2>
                <p class="text-xs text-slate-500">Manage draft and sent quotes.</p>
              </div>
              <div class="flex flex-wrap gap-2">
                <button id="btnRefreshQuotes" type="button" class="rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 hover:text-slate-900 transition">Refresh</button>
                <button id="btnQuoteHistory" type="button" class="rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 hover:text-slate-900 transition">History</button>
                <button id="btnNewQuote" type="button" class="rounded-full bg-gradient-to-r from-mint to-lagoon px-4 py-2 text-xs font-semibold text-night shadow-sm hover:shadow-md">New quote</button>
              </div>
            </div>
            <form id="quotesFilterForm" class="grid gap-3 md:grid-cols-4">
              <label class="text-xs font-medium text-slate-500">
                Status
                <select id="quotesStatusFilter" class="mt-1 w-full rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint">
                  <option value="">All</option>
                  <option value="QUOTE">Quote</option>
                  <option value="INVOICE">Invoice</option>
                  <option value="PAID">Paid</option>
                  <option value="VOID">Void</option>
                </select>
              </label>
              <label class="text-xs font-medium text-slate-500">
                Client
                <input id="quotesClientFilter" type="text" class="mt-1 w-full rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
              </label>
              <label class="text-xs font-medium text-slate-500">
                Date from
                <input id="quotesDateFrom" type="date" class="mt-1 w-full rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
              </label>
              <label class="text-xs font-medium text-slate-500">
                Date to
                <input id="quotesDateTo" type="date" class="mt-1 w-full rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
              </label>
            </form>
            <div class="overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm">
              <table class="min-w-full divide-y divide-slate-100 text-left text-sm">
                <thead class="bg-slate-50 text-xs font-semibold uppercase tracking-wide text-slate-500">
                  <tr>
                    <th class="px-3 py-2">Client</th>
                    <th class="px-3 py-2">Status</th>
                    <th class="px-3 py-2">Amount</th>
                    <th class="px-3 py-2">Date</th>
                    <th class="px-3 py-2">Actions</th>
                  </tr>
                </thead>
                <tbody id="quotesTableBody" class="divide-y divide-slate-100"></tbody>
              </table>
              <div id="quotesEmptyState" class="px-6 py-10 text-center text-xs text-slate-400">No quotes yet. Create your first quote.</div>
            </div>
          </section>

          <section data-view="invoices" class="space-y-4 hidden">
            <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
              <div>
                <h2 class="text-xl font-semibold tracking-tight text-slate-900">Invoices</h2>
                <p class="text-xs text-slate-500">Track invoices and payments.</p>
              </div>
              <div class="flex flex-wrap gap-2">
                <button id="btnRefreshInvoices" type="button" class="rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 hover:text-slate-900 transition">Refresh</button>
                <button id="btnInvoiceHistory" type="button" class="rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 hover:text-slate-900 transition">History</button>
              </div>
            </div>
            <form id="invoicesFilterForm" class="grid gap-3 md:grid-cols-4">
              <label class="text-xs font-medium text-slate-500">
                Status
                <select id="invoicesStatusFilter" class="mt-1 w-full rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint">
                  <option value="">All</option>
                  <option value="OPEN">Open</option>
                  <option value="PAID">Paid</option>
                  <option value="VOID">Void</option>
                </select>
              </label>
              <label class="text-xs font-medium text-slate-500">
                Client
                <input id="invoicesClientFilter" type="text" class="mt-1 w-full rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
              </label>
              <label class="text-xs font-medium text-slate-500">
                Date from
                <input id="invoicesDateFrom" type="date" class="mt-1 w-full rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
              </label>
              <label class="text-xs font-medium text-slate-500">
                Date to
                <input id="invoicesDateTo" type="date" class="mt-1 w-full rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
              </label>
            </form>
            <div class="overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm">
              <table class="min-w-full divide-y divide-slate-100 text-left text-sm">
                <thead class="bg-slate-50 text-xs font-semibold uppercase tracking-wide text-slate-500">
                  <tr>
                    <th class="px-3 py-2">Client</th>
                    <th class="px-3 py-2">Status</th>
                    <th class="px-3 py-2">Amount</th>
                    <th class="px-3 py-2">Date</th>
                    <th class="px-3 py-2">Actions</th>
                  </tr>
                </thead>
                <tbody id="invoicesTableBody" class="divide-y divide-slate-100"></tbody>
              </table>
              <div id="invoicesEmptyState" class="px-6 py-10 text-center text-xs text-slate-400">No invoices yet. Convert a quote to invoice.</div>
            </div>
          </section>

          <section data-view="quote-builder" class="space-y-4">
            <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
              <div>
                <h2 class="text-xl font-semibold tracking-tight text-slate-900">Quote builder</h2>
                <p class="text-xs text-slate-500">Build, preview, and share proposals.</p>
              </div>
              <div class="flex flex-wrap gap-2 no-print">
                <button id="emailQuoteBtn" type="button" class="rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50">Email</button>
                <button id="printBtn" type="button" class="rounded-full bg-mint px-4 py-2 text-xs font-semibold text-night shadow-sm hover:bg-emerald-400 hover:shadow-md">Print / PDF</button>
              </div>
            </div>

            <div class="grid gap-4 lg:grid-cols-2">
              <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-6 space-y-4">
                <div class="flex items-start justify-between">
                  <div>
                    <h3 class="text-lg font-semibold tracking-tight text-slate-900">Job details</h3>
                    <p class="text-xs text-slate-500">Enter service scope and customer context.</p>
                  </div>
                </div>
                <div class="grid gap-3 md:grid-cols-2">
                  <label class="text-xs font-medium text-slate-500">
                    Client name
                    <input
                      id="clientNameTypeahead"
                      name="clientNameTypeahead"
                      type="text"
                      autocomplete="off"
                      class="mt-1 rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint"
                    />
                  </label>
                  <label class="text-xs font-medium text-slate-500">
                    Select existing client
                    <select
                      id="clientSelect"
                      name="clientSelect"
                      class="mt-1 rounded-full border border-slate-200 px-3 py-2 text-sm text-slate-900 bg-white focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint"
                    ></select>
                  </label>
                </div>
                <div id="clientTypeaheadResults" class="text-xs text-slate-600"></div>
                <label class="text-xs font-medium text-slate-500">
                  Service address
                  <input id="serviceAddress" name="serviceAddress" type="text" class="mt-1 rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
                </label>
                <label class="text-xs font-medium text-slate-500">
                  Property square footage
                  <input id="squareFeet" name="squareFeet" type="number" class="mt-1 rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
                </label>
                <div class="grid gap-3 md:grid-cols-2">
                  <label class="text-xs font-medium text-slate-500">
                    Invoice number
                    <input id="invoiceNumber" name="invoiceNumber" type="text" class="mt-1 rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
                  </label>
                  <label class="text-xs font-medium text-slate-500">
                    Due date
                    <input id="invoiceDueDate" name="invoiceDueDate" type="date" class="mt-1 rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
                  </label>
                </div>
                <label class="text-xs font-medium text-slate-500">
                  Notes
                  <textarea
                    id="specialInstructions"
                    name="specialInstructions"
                    rows="3"
                    placeholder="Notes about access, scope, or any special instructions‚Ä¶"
                    class="mt-1 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint"
                  ></textarea>
                </label>
              </div>

              <div class="space-y-4">
                <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-6">
                  <div class="flex items-start justify-between">
                    <div>
                      <h3 class="text-lg font-semibold tracking-tight text-slate-900">Site photos</h3>
                      <p class="text-xs text-slate-500">Attach visuals for context.</p>
                    </div>
                  </div>
                  <input id="quotePhotos" name="quotePhotos" type="file" multiple class="mt-3 block w-full text-sm text-slate-600" />
                  <div id="photoPreview" class="mt-4 grid grid-cols-2 sm:grid-cols-3 gap-3"></div>
                </div>
                <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-6 space-y-4">
                  <div class="flex items-start justify-between">
                    <div>
                      <h3 class="text-lg font-semibold tracking-tight text-slate-900">Pricing parameters</h3>
                      <p class="text-xs text-slate-500">Dial in revenue targets.</p>
                    </div>
                  </div>
                  <label class="text-xs font-medium text-slate-500">
                    Base rate
                    <input id="baseRate" name="baseRate" type="number" class="mt-1 rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
                  </label>
                  <div class="grid gap-3 md:grid-cols-2">
                    <label class="text-xs font-medium text-slate-500">
                      Pest coverage pricing
                      <input id="pestCoveragePrice" name="pestCoveragePrice" type="number" class="mt-1 rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
                    </label>
                    <label class="text-xs font-medium text-slate-500">
                      Residential tier
                      <select id="residentialTier" name="residentialTier" class="mt-1 rounded-full border border-slate-200 px-3 py-2 text-sm text-slate-900 bg-white focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint"></select>
                    </label>
                  </div>
                  <label class="text-xs font-medium text-slate-500">
                    Tiered pricing
                    <textarea id="tieredPricing" name="tieredPricing" rows="3" class="mt-1 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint"></textarea>
                  </label>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-6 space-y-4 card-printable">
              <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
                <div>
                  <h3 class="text-lg font-semibold tracking-tight text-slate-900">Quote output</h3>
                  <p class="text-xs text-slate-500">Preview totals and taxes.</p>
                </div>
                <div class="flex flex-wrap gap-2 no-print">
                  <button id="btnSaveQuote" type="button" class="rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50">Save quote</button>
                  <button id="btnConvertInvoice" type="button" class="rounded-full border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50">Convert to invoice</button>
                </div>
              </div>
              <div class="grid gap-3 md:grid-cols-2">
                <label class="text-xs font-medium text-slate-500">
                  Quote total
                  <input id="quoteTotal" name="quoteTotal" type="number" class="mt-1 rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
                </label>
                <label class="text-xs font-medium text-slate-500">
                  Taxes
                  <input id="taxes" name="taxes" type="number" class="mt-1 rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint" />
                </label>
              </div>
              <label class="text-xs font-medium text-slate-500">
                Output notes
                <textarea id="outputNotes" name="outputNotes" rows="3" class="mt-1 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-mint focus:border-mint"></textarea>
              </label>
              <div id="quotePreview" class="text-sm text-slate-700"></div>
            </div>
          </section>

          <section data-view="invoices-list" class="hidden"></section>
          <section data-view="vendor-settings" class="hidden"></section>
        </main>
      </div>
    </div>

    <script src="./script.js"></script>
  </body>
</html>

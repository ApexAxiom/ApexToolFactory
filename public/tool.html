<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pestimator ‚Äî Quoting Studio</title>
    <meta name="description" content="Secure Pestimator workspace for creating and exporting polished pest control proposals." />
    <!-- Tailwind CDN (no build step) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="./config.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/aws-amplify@5.3.6/dist/aws-amplify.min.js"></script>
    <script defer src="./auth.js"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              night: '#0b1220',
              midnight: '#111c34',
              abyss: '#030712',
              mint: '#2dd4bf',
              lagoon: '#0ea5e9',
              haze: '#1f2a44'
            },
            fontFamily: {
              display: ['"SF Pro Display"', 'Inter', 'system-ui', 'sans-serif'],
              sans: ['Inter', 'system-ui', 'sans-serif']
            },
            boxShadow: {
              glow: '0 45px 80px -40px rgba(14,165,233,0.55)',
              soft: '0 20px 45px -35px rgba(8,145,178,0.45)'
            },
            backdropBlur: {
              xs: '2px'
            }
          }
        }
      };
    </script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2232%22 height=%2232%22><text y=%2224%22 font-size=%2224%22>üêú</text></svg>">
    <style>
      *, *::before, *::after {
        box-sizing: border-box;
      }
      :root {
        color-scheme: dark;
      }
      html, body {
        width: 100%;
        overflow-x: hidden;
      }
      body {
        min-height: 100vh;
        font-family: 'Inter', system-ui, sans-serif;
        background: radial-gradient(circle at top left, rgba(14, 165, 233, 0.25), transparent 45%),
                    radial-gradient(circle at bottom right, rgba(45, 212, 191, 0.25), transparent 45%),
                    linear-gradient(140deg, #030712 0%, #0b1220 45%, #111c34 100%);
        color: #e2e8f0;
      }
      body::before {
        content: '';
        position: fixed;
        inset: 0;
        pointer-events: none;
        background: radial-gradient(circle at 20% 20%, rgba(14,165,233,0.15), transparent 55%),
                    radial-gradient(circle at 75% 80%, rgba(45,212,191,0.12), transparent 60%);
        opacity: 0.85;
        z-index: -1;
      }
      header {
        background: linear-gradient(135deg, rgba(11,18,32,0.9), rgba(3,7,18,0.85));
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
        backdrop-filter: blur(16px);
      }
      .header-inner {
        max-width: 1200px;
        margin-inline: auto;
      }
      .header-brand-title {
        font-family: 'SF Pro Display', 'Inter', system-ui, sans-serif;
      }
      .header-actions select,
      .header-actions button {
        border-radius: 9999px;
        border: 1px solid rgba(148, 163, 184, 0.25);
        background: rgba(15, 23, 42, 0.7);
        color: #e2e8f0;
      }
      .header-actions select:focus {
        outline: none;
        border-color: rgba(14,165,233,0.6);
        box-shadow: 0 0 0 3px rgba(14,165,233,0.25);
      }

      .card {
        border-radius: 1.75rem;
        background: linear-gradient(145deg, rgba(15, 23, 42, 0.92), rgba(17, 28, 52, 0.82));
        border: 1px solid rgba(148, 163, 184, 0.18);
        box-shadow: 0 35px 65px -45px rgba(15, 23, 42, 0.85);
        backdrop-filter: blur(18px);
        color: #f8fafc;
      }
      .card h2 {
        font-family: 'SF Pro Display', 'Inter', system-ui, sans-serif;
        font-weight: 600;
        letter-spacing: -0.01em;
        color: #f8fafc;
      }
      .card label {
        font-size: 0.78rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        font-weight: 600;
        color: rgba(226, 232, 240, 0.68);
      }
      .card input[type="text"],
      .card input[type="number"],
      .card input[type="email"],
      .card input[type="tel"],
      .card input[type="password"],
      .card input[type="file"],
      .card select,
      .card textarea {
        border-radius: 1rem;
        border: 1px solid rgba(148, 163, 184, 0.28);
        background: rgba(7, 12, 24, 0.75);
        color: #f8fafc;
        padding: 0.65rem 0.9rem;
        font-size: 0.95rem;
        transition: border-color 0.15s ease, box-shadow 0.15s ease;
      }
      .card input::placeholder,
      .card textarea::placeholder {
        color: rgba(226, 232, 240, 0.48);
      }
      .card input:focus,
      .card select:focus,
      .card textarea:focus {
        outline: none;
        border-color: rgba(14, 165, 233, 0.8);
        box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.25);
      }
      .card input[type="file"] {
        padding: 0.45rem 0.9rem;
        background: rgba(7, 12, 24, 0.6);
      }

      #pestPicker label {
        border-radius: 1rem;
        padding: 0.6rem 0.8rem;
        background: rgba(8, 20, 38, 0.7);
        border: 1px solid rgba(148, 163, 184, 0.25);
        color: #f8fafc;
        display: inline-flex;
        gap: 0.75rem;
        align-items: center;
        transition: border-color 0.15s ease, transform 0.15s ease;
      }
      #pestPicker label:hover {
        transform: translateY(-1px);
        border-color: rgba(45, 212, 191, 0.55);
      }
      #pestPicker input[type="checkbox"] {
        accent-color: #0ea5e9;
        width: 1.1rem;
        height: 1.1rem;
      }

      .stat-card {
        border-radius: 1.5rem;
        border: 1px solid rgba(148, 163, 184, 0.25);
        background: rgba(8, 16, 32, 0.55);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.03);
      }

      table tr td {
        border-color: rgba(148, 163, 184, 0.16);
      }
      table tr td:first-child {
        color: rgba(226, 232, 240, 0.65);
        text-transform: uppercase;
        letter-spacing: 0.1em;
        font-size: 0.68rem;
      }
      table tr td:last-child {
        color: #f8fafc;
      }

      .badge {
        border-radius: 9999px;
        padding: 0.5rem 1rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 0.8rem;
        font-weight: 600;
        background: rgba(14, 165, 233, 0.15);
        color: #38bdf8;
        border: 1px solid rgba(14, 165, 233, 0.3);
      }

      .avoid-break { break-inside: avoid; page-break-inside: avoid; }
      #pricingCard .grid { gap: 12px; }
      #pricingCard input, #pricingCard select { max-width: 260px; width: 100%; }
      #pricingCard .grid.grid-cols-2,
      #pricingCard .grid.grid-cols-3,
      #pricingCard .grid.grid-cols-4 { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }

      .print-only { display: none; }

      /* Responsive refinements */
      @media (max-width: 1024px) {
        header .flex { flex-wrap: wrap; gap: 0.75rem; }
      }
      @media (max-width: 768px) {
        button, input, select, textarea {
          min-height: 44px;
          font-size: 16px;
        }
        .card {
          margin-bottom: 1rem;
          padding: 1.75rem;
        }
        .mobile-stack { flex-direction: column; }
        .mobile-stack button { width: 100%; }
        input, select, textarea { width: 100%; }
        header .header-inner {
          flex-direction: column;
          align-items: stretch;
          gap: 1rem;
        }
        .header-brand {
          justify-content: space-between;
          width: 100%;
        }
        .header-actions {
          width: 100%;
          display: grid;
          grid-template-columns: repeat(2, minmax(0, 1fr));
          gap: 0.75rem;
        }
        .header-actions label,
        .header-actions select,
        .header-actions button {
          grid-column: 1 / -1;
          width: 100%;
        }
        #pestPicker {
          display: grid !important;
          grid-template-columns: repeat(2, minmax(0, 1fr));
          gap: 0.75rem;
        }
        .profile-actions {
          width: 100%;
          display: grid;
          grid-template-columns: repeat(2, minmax(0, 1fr));
          gap: 0.75rem;
        }
        .profile-actions button,
        .profile-actions label {
          width: 100%;
          justify-content: center;
        }
        .summary-header {
          flex-direction: column;
          align-items: stretch;
          gap: 1.25rem;
        }
        .summary-header .mobile-stack {
          width: 100%;
          display: grid;
          grid-template-columns: 1fr;
          gap: 0.75rem;
        }
      }
      @media (max-width: 480px) {
        #pestPicker { grid-template-columns: 1fr; }
        .header-actions,
        .profile-actions,
        .summary-header .mobile-stack { grid-template-columns: 1fr; }
        .card { padding: 1.5rem; }
      }

      /* Print rules */
      @media print {
        :root { color-scheme: light; }
        .no-print { display: none !important; }
        .print-only { display: block !important; }
        header { display: none !important; }
        body { background: #fff; color: #0f172a; }
        .card {
          box-shadow: none !important;
          border: 1px solid #e5e7eb !important;
          background: #fff !important;
          color: #0f172a !important;
        }
        main { max-width: 100% !important; }
      }
    </style>
  </head>
  <body class="relative min-h-screen font-sans text-slate-100">
    <header class="sticky top-0 z-30 border-b border-white/10 bg-night/80 shadow-[0_30px_60px_-45px_rgba(14,165,233,0.6)] backdrop-blur">
      <div class="header-inner flex items-center justify-between px-6 py-4">
        <div class="header-brand flex items-center gap-4 text-white">
          <!-- Simple shield+ant logomark -->
          <svg width="60" height="60" viewBox="0 0 64 64" aria-hidden="true" class="rounded-2xl shadow-[0_12px_25px_rgba(14,165,233,0.35)]">
            <defs>
              <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="#10b981"/><stop offset="1" stop-color="#0ea5e9"/>
              </linearGradient>
            </defs>
            <path d="M32 4l20 6v14c0 12-7.8 22.8-20 26-12.2-3.2-20-14-20-26V10l20-6z" fill="url(#g)"/>
            <!-- little ant -->
            <circle cx="28" cy="28" r="3" fill="#fff"/><circle cx="34" cy="28" r="4.2" fill="#fff"/>
            <circle cx="41" cy="28" r="3.2" fill="#fff"/><path d="M26 22l4 4M38 22l-4 4" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <div>
            <div class="header-brand-title text-2xl font-semibold tracking-tight">Pestimator</div>
            <div class="text-xs uppercase tracking-[0.35em] text-white/50">Quoting Studio</div>
          </div>
        </div>

        <div class="header-actions flex items-center gap-3 text-sm text-white/70">
          <!-- Res/Com toggle -->
          <label class="text-xs font-semibold uppercase tracking-[0.35em] text-white/60" for="bizType">Customer</label>
          <select id="bizType" class="rounded-full px-4 py-2 text-sm font-medium shadow-inner shadow-black/20">
            <option value="res">Residential</option>
            <option value="com">Commercial</option>
          </select>

          <a href="./index.html" class="no-print inline-flex items-center rounded-full border border-white/20 bg-white/5 px-4 py-2 text-sm font-medium text-white/80 transition hover:border-white/40 hover:text-white">Home</a>
          <span class="hidden text-right text-xs font-medium text-white/60 sm:inline" id="authUser"></span>
          <button id="btnSignOut" class="no-print rounded-full bg-lagoon px-4 py-2 text-sm font-semibold text-night shadow-glow transition hover:brightness-110">Sign out</button>
        </div>
      </div>
    </header>

    <main class="mx-auto max-w-6xl px-6 py-10">
      <div class="grid gap-6 lg:grid-cols-2">
        <!-- Company Profile (hidden in print) -->
        <section class="card lg:col-span-2 avoid-break p-8 shadow-soft no-print">
          <div class="company-profile-header mb-6 flex items-start gap-5">
            <img id="companyLogoOutput" class="h-16 w-auto rounded-xl border border-white/10 bg-white/5 p-2" alt="Company logo" />
            <div class="flex-1">
              <div class="company-profile-toolbar flex items-center justify-between gap-4">
                <div class="space-y-1">
                  <h2 class="text-2xl">Company Profile</h2>
                  <div class="text-xs font-medium uppercase tracking-[0.3em] text-white/50">Branding exported securely</div>
                </div>
                <div class="profile-actions flex gap-2 no-print text-sm font-semibold">
                  <button id="btnProfileSave" class="rounded-full bg-lagoon px-4 py-2 text-night shadow-glow transition hover:brightness-110">Save (secured)</button>
                  <button id="btnProfileLoad" class="rounded-full border border-white/20 bg-white/10 px-4 py-2 text-white/85 transition hover:border-white/35 hover:bg-white/15">Load</button>
                  <button id="btnProfileExport" class="rounded-full border border-white/20 bg-white/10 px-4 py-2 text-white/85 transition hover:border-white/35 hover:bg-white/15">Export</button>
                  <label class="rounded-full border border-white/20 bg-white/10 px-4 py-2 text-white/85 transition hover:border-white/35 hover:bg-white/15">
                    Import <input id="profileImport" type="file" accept="application/json" class="hidden">
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
            <div class="grid gap-2">
              <label>Company Name</label>
              <input id="companyName" class="rounded-2xl p-3" placeholder="Acme Pest Co.">
            </div>
            <div class="grid gap-2">
              <label>Address</label>
              <input id="companyAddress" class="rounded-2xl p-3" placeholder="123 Main St, City, ST">
            </div>
            <div class="grid gap-2">
              <label>License #</label>
              <input id="companyLicense" class="rounded-2xl p-3" placeholder="TX-XXXXXX">
            </div>
            <div class="grid gap-2">
              <label>Phone</label>
              <input id="companyPhone" class="rounded-2xl p-3" placeholder="(555) 555-5555">
            </div>
            <div class="grid gap-2">
              <label>Email</label>
              <input id="companyEmail" class="rounded-2xl p-3" placeholder="hello@acme.com">
            </div>
            <div class="grid gap-2">
              <label>Website</label>
              <input id="companyWebsite" class="rounded-2xl p-3" placeholder="acme.com">
            </div>
            <div class="grid gap-2 sm:col-span-2 lg:col-span-3">
              <label>Logo (optional)</label>
              <input id="companyLogo" type="file" accept="image/*" class="rounded-2xl p-3">
              <img id="companyLogoPreview" class="mt-3 h-12 rounded-lg border border-white/10 bg-white/5 p-2" alt="" />
            </div>
          </div>
        </section>

        <!-- Job Details -->
        <section class="card p-8 shadow-soft no-print">
          <div class="mb-6 flex items-center justify-between">
            <h2 class="text-2xl">Job Details</h2>
            <span class="badge">Capture site context</span>
          </div>
          <div class="grid gap-4">
            <div class="grid gap-2">
              <label>Customer Name</label>
              <input id="custName" class="rounded-2xl p-3" placeholder="Jane Doe"/>
            </div>
            <div class="grid gap-2">
              <label>Address</label>
              <input id="address" class="rounded-2xl p-3" placeholder="123 Main St"/>
            </div>
            <div class="grid gap-2">
              <label>Square Footage</label>
              <input id="sqft" type="number" min="0" step="1" value="0" class="rounded-2xl p-3"/>
            </div>
            <div class="grid gap-2">
              <label>Pest Types (select all that apply)</label>
              <div id="pestPicker" class="flex flex-wrap gap-3">
                <!-- checkboxes populated by script.js from a catalog -->
              </div>
            </div>
            <div class="grid gap-2">
              <label>Visit Type</label>
              <select id="visitType" class="rounded-2xl p-3">
                <option value="one">One-time</option>
                <option value="monthly">Monthly</option>
                <option value="quarterly">Quarterly</option>
              </select>
            </div>
            <!-- Termite-only inputs -->
            <div id="termiteRow" class="grid grid-cols-1 sm:grid-cols-2 gap-4 hidden">
              <div class="grid gap-2">
                <label>Perimeter (linear ft)</label>
                <input id="linearFt" type="number" min="0" step="1" value="0"
                       class="rounded-2xl p-3"/>
              </div>
              <div class="grid gap-2">
                <label>Rate ($/linear ft)</label>
                <input id="lfRate" type="number" min="0" step="0.1" value="7"
                       class="rounded-2xl p-3"/>
              </div>
            </div>
            <!-- Comments/Notes -->
            <div class="grid gap-2">
              <label>Comments / Notes</label>
              <textarea id="comments" rows="3" class="rounded-2xl p-3" placeholder="Special instructions, areas of concern, access notes..."></textarea>
            </div>
          </div>
        </section>

        <!-- Pricing -->
        <section id="pricingCard" class="card p-8 shadow-soft no-print">
          <div class="mb-6 flex items-center justify-between">
            <h2 class="text-2xl">Pricing Parameters</h2>
            <span class="badge">Dial in revenue targets</span>
          </div>
          <div class="grid gap-4">
            <!-- Base Rate -->
            <div class="grid gap-2">
              <label>Base Rate ($/sqft)</label>
              <input id="baseRateSqft" type="number" min="0" step="0.001" value="0" placeholder="Base rate per sqft" aria-label="Base Rate per square foot" class="rounded-2xl p-3">
            </div>

            <!-- Pest Charges -->
            <div id="pestChargesBlock" class="grid gap-2 hidden">
              <div class="text-sm font-semibold uppercase tracking-[0.28em] text-white/60">Pest Coverage Pricing</div>
              <div id="pestChargeRows" class="grid gap-2"></div>
              <div class="text-xs text-white/50">Mark "Included" to charge $0 for that pest; otherwise enter an added cost.</div>
            </div>

            <!-- Residential Tiered Pricing (dropdown) -->
            <div id="resTierBlock" class="grid gap-3 hidden">
              <div class="grid gap-2">
                <label>Residential Program (Quarterly)</label>
                <div class="flex flex-wrap items-center gap-3">
                  <select id="resTierPlan" aria-label="Residential tier plan" class="rounded-2xl p-3">
                    <option value="0">None (0)</option>
                    <option value="50">0‚Äì1000 sqft ($50)</option>
                    <option value="70">1000‚Äì4000 sqft ($70)</option>
                    <option value="150">4000‚Äì6000 sqft ($150)</option>
                    <option value="custom">6000+ (custom)</option>
                  </select>
                  <input id="resTierCustom" type="number" min="0" step="1" value="0" class="hidden rounded-2xl p-3" placeholder="Custom amount" aria-label="Custom tier amount"/>
                </div>
              </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="grid gap-2">
                <label>Labor Rate ($/hr)</label>
                <input id="laborRate" type="number" min="0" step="1" value="0" class="rounded-2xl p-3"/>
              </div>
              <div class="grid gap-2">
                <label>Hours</label>
                <input id="hours" type="number" min="0" step="0.5" value="0" class="rounded-2xl p-3"/>
              </div>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
              <div class="grid gap-2">
                <label>Materials ($)</label>
                <input id="materials" type="number" min="0" step="1" value="0" class="rounded-2xl p-3"/>
              </div>
              <div class="grid gap-2">
                <label>Travel ($)</label>
                <input id="travel" type="number" min="0" step="1" value="0" class="rounded-2xl p-3"/>
              </div>
              <div class="grid gap-2">
                <label>Markup (%)</label>
                <input id="markupPct" type="number" min="0" step="1" value="0" class="rounded-2xl p-3"/>
              </div>
            </div>
            <div class="grid gap-2">
              <label>Tax Rate (%)</label>
              <input id="taxPct" type="number" min="0" step="0.1" value="0" class="rounded-2xl p-3"/>
            </div>

            <!-- Travel miles x rate -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="grid gap-2">
                <label>Travel (miles)</label>
                <input id="travelMiles" type="number" min="0" step="1" value="0"
                       class="rounded-2xl p-3"/>
              </div>
              <div class="grid gap-2">
                <label>Mileage Rate ($/mi)</label>
                <input id="perMile" type="number" min="0" step="0.01" value="0"
                       class="rounded-2xl p-3"/>
              </div>
            </div>

            <!-- Commercial-only adders -->
            <div id="commercialBlock" class="grid gap-4 hidden">
              <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="grid gap-2">
                  <label>Rodent stations (#)</label>
                  <input id="rodentStations" type="number" min="0" step="1" value="0" class="rounded-2xl p-3"/>
                </div>
                <div class="grid gap-2">
                  <label>Rate ($/station)</label>
                  <input id="rodentRate" type="number" min="0" step="0.1" value="0" class="rounded-2xl p-3"/>
                </div>
                <div class="grid gap-2">
                  <label>ILTs (#)</label>
                  <input id="iltCount" type="number" min="0" step="1" value="0" class="rounded-2xl p-3"/>
                </div>
                <div class="grid gap-2">
                  <label>Rate ($/ILT)</label>
                  <input id="iltRate" type="number" min="0" step="0.1" value="0" class="rounded-2xl p-3"/>
                </div>
              </div>

              <div class="grid gap-2">
                <label>Compliance / audit docs ($)</label>
                <input id="complianceFee" type="number" min="0" step="1" value="0" class="rounded-2xl p-3"/>
              </div>
            </div>

            <!-- Global adders -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="grid gap-2">
                <label>After-hours Surcharge (%)</label>
                <input id="afterHoursPct" type="number" min="0" step="1" value="0" class="rounded-2xl p-3"/>
              </div>
              <div class="grid gap-2">
                <label>Discount (%)</label>
                <input id="discountPct" type="number" min="0" step="1" value="0" class="rounded-2xl p-3"/>
              </div>
            </div>
          </div>
        </section>

        <!-- Summary -->
        <section class="card lg:col-span-2 no-print p-8 shadow-soft">
          <div class="summary-header mb-6 flex items-center justify-between">
            <h2 class="text-2xl">Quote Summary</h2>
            <div class="flex flex-wrap gap-2 mobile-stack sm:flex-row">
              <button id="btnCalc" class="rounded-full bg-mint/80 px-4 py-2 text-sm font-semibold text-night shadow-glow transition hover:brightness-110">Calculate</button>
              <button id="btnPrint" class="rounded-full bg-lagoon px-4 py-2 text-sm font-semibold text-night shadow-glow transition hover:brightness-110">Print / Save PDF</button>
              <button id="btnSave" class="rounded-full border border-white/20 bg-white/10 px-4 py-2 text-sm font-semibold text-white/85 transition hover:border-white/35 hover:bg-white/15">Save Locally</button>
              <button id="btnExport" class="rounded-full border border-white/20 bg-white/10 px-4 py-2 text-sm font-semibold text-white/85 transition hover:border-white/35 hover:bg-white/15">Download JSON</button>
              <button id="btnReset" class="rounded-full bg-rose-500/90 px-4 py-2 text-sm font-semibold text-white shadow-[0_18px_35px_-22px_rgba(244,63,94,0.7)] transition hover:bg-rose-500">Reset</button>
            </div>
          </div>

          <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
            <div class="stat-card p-5">
              <div class="text-xs font-semibold uppercase tracking-[0.3em] text-white/60">Base</div>
              <div id="baseOut" class="mt-2 text-3xl font-semibold">$0.00</div>
              <div class="text-xs text-white/50">Per-sqft base</div>
            </div>
            <div class="stat-card p-5">
              <div class="text-xs font-semibold uppercase tracking-[0.3em] text-white/60">Labor + Fees</div>
              <div id="laborOut" class="mt-2 text-3xl font-semibold">$0.00</div>
              <div class="text-xs text-white/50">Labor + materials + travel</div>
            </div>
            <div class="stat-card p-5">
              <div class="text-xs font-semibold uppercase tracking-[0.3em] text-white/60">Total</div>
              <div id="totalOut" class="mt-2 text-4xl font-bold">$0.00</div>
              <div class="text-xs text-white/50" id="ppsOut">$/sqft</div>
            </div>
          </div>

          <div class="mt-6 overflow-x-auto rounded-2xl border border-white/15 bg-white/5">
            <table class="min-w-full">
              <tbody>
                <tr><td class="p-3">Company</td><td class="p-3 font-medium text-white/90" id="compOut">‚Äî</td></tr>
                <tr><td class="p-3">Contact</td><td class="p-3 font-medium text-white/90" id="contactOut">‚Äî</td></tr>
                <tr><td class="p-3">Customer</td><td class="p-3 font-medium text-white/90" id="custOut">‚Äî</td></tr>
                <tr><td class="p-3">Address</td><td class="p-3 font-medium text-white/90" id="addrOut">‚Äî</td></tr>
                <tr><td class="p-3">Service</td><td class="p-3 font-medium text-white/90" id="svcOut">‚Äî</td></tr>
                <tr><td class="p-3">Subtotal</td><td class="p-3 font-medium text-white/90" id="subOut">$0.00</td></tr>
                <tr><td class="p-3">Tax</td><td class="p-3 font-medium text-white/90" id="taxOut">$0.00</td></tr>
                <tr><td class="p-3">Total</td><td class="p-3 font-bold text-white" id="grandOut">$0.00</td></tr>
              </tbody>
            </table>
          </div>

          <p class="mt-4 text-xs text-white/50">All estimates are subject to site verification and product availability.</p>
        </section>
      </div>

      <!-- PRINT-ONLY QUOTE -->
      <div class="print-only mx-auto max-w-4xl px-6 py-8">
        <!-- Company Header -->
        <div class="flex items-start gap-6 mb-8 pb-6 border-b-2 border-slate-300">
          <img id="printLogo" class="h-20 w-auto" alt="Company logo" />
          <div class="flex-1">
            <h1 id="printCompanyName" class="text-3xl font-bold mb-2">Company Name</h1>
            <div id="printCompanyInfo" class="text-sm">
              <div id="printAddress"></div>
              <div id="printContact"></div>
            </div>
          </div>
          <div class="text-right">
            <div class="text-xs uppercase tracking-wide">Quote</div>
            <div id="printQuoteDate" class="text-sm font-medium"></div>
          </div>
        </div>

        <!-- Customer Info -->
        <div class="mb-8">
          <h2 class="text-lg font-semibold mb-3">Customer Information</h2>
          <div class="grid grid-cols-2 gap-4 text-sm">
            <div><span class="font-medium">Name:</span> <span id="printCustName"></span></div>
            <div><span class="font-medium">Address:</span> <span id="printCustAddr"></span></div>
          </div>
        </div>

        <!-- Service Details -->
        <div class="mb-8">
          <h2 class="text-lg font-semibold mb-3">Service Details</h2>
          <div class="text-sm mb-2" id="printServiceDesc"></div>
          <div class="text-sm"><span class="font-medium">Square Footage:</span> <span id="printSqft"></span></div>
        </div>

        <!-- Line Items -->
        <div class="mb-8">
          <h2 class="text-lg font-semibold mb-3">Quote Breakdown</h2>
          <table class="w-full text-sm border-collapse">
            <thead>
              <tr class="border-b-2 border-slate-300">
                <th class="text-left py-2">Description</th>
                <th class="text-right py-2 w-32">Amount</th>
              </tr>
            </thead>
            <tbody id="printLineItems" class="divide-y divide-slate-200">
              <!-- Populated by JavaScript -->
            </tbody>
            <tfoot class="border-t-2 border-slate-300">
              <tr><td class="py-2 font-medium">Subtotal</td><td class="text-right" id="printSubtotal"></td></tr>
              <tr id="printTaxRow"><td class="py-1">Tax</td><td class="text-right" id="printTax"></td></tr>
              <tr class="text-lg font-bold"><td class="pt-2">Total</td><td class="text-right pt-2" id="printTotal"></td></tr>
            </tfoot>
          </table>
        </div>

        <!-- Comments -->
        <div id="printCommentsSection" class="mb-8">
          <h2 class="text-lg font-semibold mb-3">Notes</h2>
          <div id="printComments" class="text-sm whitespace-pre-wrap bg-slate-50 p-4 rounded border border-slate-200"></div>
        </div>

        <!-- Footer -->
        <div class="mt-12 pt-6 border-t border-slate-300 text-xs">
          <p>All estimates are subject to site verification and product availability.</p>
          <p class="mt-2">This quote is valid for 30 days from the date above.</p>
        </div>
      </div>
    </main>

    <script src="./script.js"></script>
  </body>
</html>

